import Image from '@/components/Image'
import ModuleInfo from '@/components/ModuleInfo';
import styles from '@/components/image.module.css'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import {
  faCog,
} from '@fortawesome/free-solid-svg-icons';

# Carousel Combat Tracker
<ModuleInfo/>
A carousel style combat tracker. Spiritual successor of Combat Carousel. Inspired by games such as Solasta and Baldurs Gate 3 it will give you and your players a videogame style combat experience.

## How to use
<Image src="/images/combat-tracker-dock/carouselinfo.png" alt="Carousel Interface" className={styles.wikiImage}/>

The Carousel will open automatically whenever there is an active combat and will close when the combat ends.
Whenever the Carousel opens, the Scene Navigation will be automatically collapsed.

### Combat Controls

Hovering the Carousel will reveal the combat controls on the left and right side of the carousel. These are the controls you are used to in the regular combat tracker.

#### Events

Click the `Globe` icon in the top right of the Carousel Controls to open the Create Event window. From here you can add a "fake" combatant to keep track of whatever you wish, it can also automatically expire after a certain amount of Rounds.

- Note that the Events feature will work on every system except for PF2e as it does not support actorless combatants.

### Portraits

Hovering over the portraits will reveal the Portrait Controls, these include Toggle Defeated, Toggle Hidden, and Ping.

### Tooltips

Hovering over the portraits will also reveal a tooltip, if you have ownership (or are GM) you will see the full informations, otherwise only the Name, Initiative and Status Effects will be visible.

You can customize what Attributes are shown in the modules settings.

### Configuration & Customization
<Image src="/images/combat-tracker-dock/carouselconfig.png" alt="Carousel Configuration" className={styles.wikiImage}/>
To open the configuration menu, click on the <FontAwesomeIcon icon={faCog} /> button on the top right of the Carousel.

#### Attributes

Here you can configure the two Tracked Resource, which will be shown on the portrait as text and bars.

#### Customization

To access the advanced configuration, where you can customize the look and feel of the Carousel, click on the `Configure Carousel` button.

## System Support

While Carousel Combat Tracker is compatible with all system, it contains some special handling to show system-specific additional information.

The module will work regardless of the presence of explicit support, but some systems might display some oddities (For example without the SWADE system support, cards would not be shown as the initiative value)

If you wish to contribute to the system support, please send a PR for the System Configuration script! [Github Repository](https://github.com/theripper93/combat-tracker-dock/blob/master/scripts/systems.js)

## FAQ

- **Can I reposition the Carousel?** No, the Carousel is always docked to the top side of the screen.

- **I don't see the Tracked Resource Bar on the Portrait, why?** The Tracked Resource Bar is only visible if you have set a Tracked Resource. Open the Combat Tracker Settings with the Cog icon and set a Tracked Resource.

- **Can you add explicit support for X system?** I'm not knowledgeable enough about all the systems to add explicit support for them, but if you send me a PR for the [System Configuration](https://github.com/theripper93/combat-tracker-dock/blob/master/scripts/systems.js) file I'll gladly add it to the module. If you are not familiar with coding, your best bet is to ask community developers in your system channel!

## Known Issues

- The Carousel animation is very complex, as such, clicking on the next or previous button multiple times in quick succession can cause the animation to glitch out. Even though you'll see this visual glitch, the carousel will still work as intended and display the correct order.

- The V10 Version Tooltips don't work on Firefox or in the Foundry Client, use a Chromium browser.
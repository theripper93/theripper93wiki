import Image from "../components/Image";
import ModuleInfo from "../components/ModuleInfo";
import { Callout, Tab, Tabs } from "nextra-theme-docs";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { faCube, faUser, faSort, faFileImport, faQuestion } from "@fortawesome/free-solid-svg-icons";
import { faDiscord, faPatreon } from "@fortawesome/free-brands-svg-icons";
import styles from "@/components/image.module.css";
import Cards from "@/components/Cards.tsx";

# 3D Canvas

<ModuleInfo />
3D Canvas is a module for viewing and creating maps in 3D.

Turn your maps into true 3D, load in 3D models, and play your games in
the glorious third dimension. Supports lighting and animated models. If
you don't have 3D models don't worry! 3D canvas will turn your 2D
tokens into stand-up figures in 3D mode.

For people who want a quick and simple guide to get started with 3D
Canvas, read the [Getting Started](levels-3d-preview/3D-Canvas-Getting-Started) guide.

If you prefer Video Guides, you can check [3D Canvas Installation](https://youtu.be/eHzUG64EMJk) and the [Playlist](https://youtube.com/playlist?list=PLbNUuLLqMgaBfNAyYb6mhg4pR4bPcHXqM) with the most recent 3D Canvas Video guides

## Modules

<Tabs items={['Dependencies', 'Recommended', 'Supported']}>
  <Tab>
    <>
      These modules are **required** for 3D Canvas to run.

      - [libWrapper](https://github.com/ruipin/fvtt-lib-wrapper)
      - [socketLib](https://github.com/manuelVo/foundryvtt-socketlib)
      - [Levels](../levels)
      - [Wall Height](../free/wall-height)

      **Higly Recommended**
      - [3D Canvas Compendium](levels-3d-preview/canvas3dcompendium)
      - [3D Canvas Token Collection](levels-3d-preview/canvas3dtokencompendium)
    </>

  </Tab>
  <Tab>
    <>
      The following modules are not strictly required but all provide enhancements to the 3D Experience

      **By theripper93**
      - [3D Portraits](levels-3d-preview/three-actor-portrait)
      - [Filepicker+](premium/filepicker-plus)
      - [Levels Automatic Cover Calculator](levels/levelsautocover)
      - [Levels Volumetric Templates](levels/levelsvolumetrictemplates)
      - [Splatter](free/splatter)

      **By other developers**
      - [Auto Rotate](https://github.com/Varriount/fvtt-autorotate) by Varriount
      - [Automated Animations](https://github.com/otigon/automated-jb2a-animations) by Otigon
      - [Drag Ruler](https://github.com/manuelVo/foundryvtt-drag-ruler) by Stäbchenfisch
    </>

  </Tab>
  <Tab>
    There are a few modules that have specific 3D Canvas integration.
    - [Monk's Active Tiles](https://github.com/ironmonk88/monks-active-tiles/) for MATT click and double click events on tiles.
  </Tab>
</Tabs>

### Incompatible Modules

There are no known modules that will cause issues.

However, modules that create visual effects in 2D will likely not carry over
effects to 3D. Other types of modules will likely be compatible with 3D Canvas.

## Tools

-   [Terrascape](https://terrascape.theripper93.com/) for sculpting and painting 3D Terrain in an intuitive way

## Controls

While loading into a 3D scene, you will see a pop-up of the basic controls.
It can be closed or re-opened by selecting the <FontAwesomeIcon icon={faQuestion} /> button on the left of the
Foundry sidebar. All controls can be rebinded in the configure controls menu.

Actions marked GC are only available when Game Camera is enabled.

<Tabs items={['Camera Controls', 'Entity Interaction', 'Measured Template', 'Pings', 'Tile Editor', 'Navigator']}>
  <Tab>
| Control                | Action                                                                                                                                             |
| ---------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Left Mouse` + `Drag`  | Rotate Camera                                                                                                                                      |
| `WASD`                 | Pan Camera                                                                                                                                         |
| `Right Mouse` + `Drag` | Pan Camera                                                                                                                                         |
| `Scroll Wheel`         | Zoom Camera                                                                                                                                        |
| `Alt`                  | Holding Alt while moving the camera will prevent regular mouse event (like selecting an entity)                                                    |
| `⇧ Shift` + `R`        | Reset camera to initial position                                                                                                                   |
| `⇧ Shift` + `X`        | If a token is selected, focus the camera on the selected token                                                                                     |
| `L`                    | Toggles first person camera                                                                                                                         |
| `Spacebar`             | `GC` Locks onto active target <br/>In combat, this is the last actor to do an action Outside of combat, it locks onto the currently selected token |
| `O`                    | `GC` Toggles top-down view                                                                                                                         |
  </Tab>
  <Tab>
| Control                            | Action                               | Notes                                                                                            |
| ---------------------------------- | ------------------------------------ | ------------------------------------------------------------------------------------------------ |
| `Left Mouse` + `Drag`              | Drag move entity                     | With `⇧ Shift` held, the scale is +-1 elevation. With `Crtl` held, the scale is +-0.1 elevation. |
| `⇧ Shift` + `Click`                | Select multiple                      |                                                                                                  |
| `Ctrl` + `Scroll Wheel`            | Rotate currently controlled entities |                                                                                                  |
| `Click ''(on empty spot)''`        | Deselect all entities                | GM Only.                                                                                         |
| `Ctrl + Click ''(on empty spot)''` | Deselect all entities                |                                                                                                  |
| `F`                                | Re-enable ground snapping            | While held, can select multiple entities via box selection.                                      |
  </Tab>
  <Tab>
| Control                                     | Action                                        |
| ------------------------------------------- | --------------------------------------------- |
| `Scroll Wheel ''(in template preview)''` | Rotate the template |
| `Scroll Wheel ''(while placing template)''` | Unsnap the second point and place it manually |
| `F` | Re-enable snapping |
  </Tab>
  <Tab>
| Control         | Action                    |
| --------------- | ------------------------- |
| `⇧ Shift` + `Q` | Ping and focus the camera |
| `⇧ Shift` + `E` | Ping location |
  </Tab>
  <Tab>
| Control | Action                                                                                                   |
| ------- | -------------------------------------------------------------------------------------------------------- |
| `S` | Scale |
| `R` | Rotate |
| `T` | Translate |
| `G` | Toggle Gizmo |
| `Q` | Cycle Fill Mode |
| `F` | Hold and Click-Drag to box select |
| `CTRL` | Hold when starting a Gizmo Transform to duplicate the currently selected tiles and leave a clone behind. |
  </Tab>
  <Tab>
    The 3D navigator is a new way for you and your players to navigate the
    3D Scene with ease!

    To have the 3D Navigator show a slider with all it's options, you must
    define Levels in the Levels UI. The navigator will use those names and
    the top range for its clipping planes

    To cut to a specific Level, simply move the slider to the Level you
    prefer, the slider will automatically snap to the closest Level.

    - **Sync**:
    If you are a GM, you will see a Sync button on top of the slider, by pressing
    the button you will sync your current level with all players.
    - **Camera**:
    If you are a Player or GM you will see a Camera button, by pressing it
    the camera will focus on the currently selected token (the same as Shift + X ).
    Doing this will automatically set the navigator to the closest level.
    - **Follow Mode**:
    Click to toggle. Selecting a token or changing elevation will automatically
    set the navigator to the closest level while enabled. It is enabled on scene
    load for players and disabled for GMs by default. You can change this behaviour in the module settings under the misc tab.

  </Tab>
</Tabs>

## Settings

<Tabs items={['Module Settings', 'Global Settings', 'Scene Settings']}>
  <Tab>
    **Enable Screen Space Panning**

    Enables screen space panning. This enables an alternate way of panning, more similar to a Strategy game.

    **Enable Damping**

    Adds damping to camera movements. Disabling this option is recommended
    for people who experience motion sickness easily.

    Press `Shift` + `R` in 3D View to reset the camera and apply
    changes.

    **Soft Shadows**

    Adds softer shadows. Minor performance impact.

    **Shadow Quality**

    Affects the resolution of shadows. Set to `Disabled` to disable
    shadows.

    **Anti-Aliasing**

    Adds anti-aliasing (reduced pixelation around edges). FXAA will have
    very little impact on performance. SMAA will have better results but
    with more performance impact.

    **Fog of War Quality**

    Sets the resolution of fog of war.

    **Resolution Multiplier**

    Sets the resolution scale.

  </Tab>
    <Tab>
      <Image
        src="/images/3D-Canvas/Global_3D_Canvas_Settings.png"
        alt="Global 3D Canvas Settings"
        
        
        className={styles.wikiImage}
      />
      Global 3D Canvas settings are accessed from the module settings.
      <Tabs items={['Canvas', 'Token', 'Base', 'Permissions', 'Game Camera', 'Misc']}>
        <Tab>
          **Prevent Negative Elevation**

          Prevents token movement that goes below the game board.

          **Template Style**

          The style for measured templates. Options are wireframe or solid.

          **Grid Draw Mode**

          How the grid is drawn. Fast is better in general, but only supports square grids.
          Mirror will mirror the foundry grid 11 but will be more expensive to render.

          **Range Finder**

          Shows the distance to tokens while hovering over them.

          **Auto Pan**

          Hooks the 3D Camera panning to the 2D one (i.e. moving a token will have
          the camera follow it).

          While disabled, you can pan to the selected token with `CRTL` + `X`.
        </Tab>
        <Tab>
          **Stand-ups Face Camera**

          2D Tokens displayed in a stand-up style will always face the camera.

          **Combat Highlight**

          Highlight the current combatant.

          **Turn Start Marker**

          Place a marker where a token started its turn in combat. Visible only to
          owners of the token.

          **Hide Target Indicator**

          Hides target indicator if the token has the base enabled. Targets will
          be shown in the base ring highlight.
        </Tab>
        <Tab>
          **Base Style**

          The base style to use. Image will display the chosen image, solid will
          draw a miniature-style base.

          **Solid Base Mode**

          The default solid base mode to use. On top will offset the model to the
          top of the base. Merge will not move the original model.

          **Solid Base Color**

          Color of the solid base. Can be a hex value or a color name (e.g. any
          CSS color). Default is `#1C1C1C`.

          **Rotate Base**

          Rotate the 3D Base to match token rotation.
        </Tab>
        <Tab>
          **Players Can Ping**

          Enables the ability to ping location for players (Default `Shift + E`).

          **Players Can Send Camera Position**

          Enables the ability to send the camera position for players (Default
          `Shift + Q`).
        </Tab>
        <Tab>
          **Game Camera**

          Enable the 'video game'-like camera. Enabled for players by default; GM is able
          to toggle it.

          **Min Angle**

          Minimum angle the camera can be rotated to.

          **Max Angle**

          Maximum angle the camera can be rotated to.

          **Clipping**

          Hide objects covering the current target while enabled.

          **Auto Re-Lock**

          When the game camera is unlocked from its target, automatically relock
          it if the target changes.

          **GM Default On**

          GMs will have Game Camera toggled on when first loading a scene while
          enabled.

          **Show Warnings**

          Display warnings for Game Camera functionality.
        </Tab>
        <Tab>
          **Enable Camera Popout**

          Pop out the 2D Canvas into a separate window when 3D mode is activated.

          **Navigator Follow Mode**

          Automatically enables the follow mode for the 3D Navigator on scene
          load.

          **Always Show Advanced Settings**

          Show the advanced settings in configuration menus by default.

          **Prevent Negative Camera**

          Prevent the camera from pivoting or panning below 0 elevation.

          **Shared Context**

          Enables shared context for all players. Performance will be improved
          while disabled but mini canvas will be disabled.

          **Debug Mode**

          Shows helpful debug info for troubleshooting.
        </Tab>
      </Tabs>

  </Tab>
  <Tab>
      <Image
        src="/images/3D-Canvas/3D_Canvas_Scene_Settings.png"
        alt="3D Canvas Scene Settings"
        
        
        className={styles.wikiImage}
      />
      The scene configuration provides basic and advanced settings that you can tweak to
      make your scene look the way you want. Most scene configuration options are in the
      3D Canvas tab of scene settings.

      <Tabs items={['Basics', 'Environment', 'Particles', 'Visibility', '', '']}>
        <Tab>
          **Enable for Players**

          Allow players to open the 3D View
          by clicking the 3D Mode button <FontAwesomeIcon icon={faCube} />

          **Enable 3D on Load**

          When the scene is loaded, automatically enter 3D Mode

          **Enable Grid**

          Show the grid in the 3D Scene

          **Enable Ruler**

          Show the ruler when dragging and placing objects

          **Initial view position**

          Set the default camera position when the scene loads, to properly set
          the target for the view, use the ping option (`Shift` + `Q`)
          to set the camera before saving the initial view position.

          **Lock Camera Perspective**

          If you wish to force a certain perspective on this scene, you can lock
          it. The camera will no longer rotate, the angle for the lock is the one
          of the initial view position.
        </Tab>
        <Tab>
          **HDRI**

          If no skybox is selected, the HDRI will be used as the background. if
          both skybox and HDRI are selected, the skybox will be used as the
          background and the HDRI for lighting and reflections. Having and HDRI is
          highly suggested for Metallic and Reflective surfaces to look correct.

          **Skybox Image**

          Set the skybox (or 3D background) for this scene. The file needs to be
          in the same folder of 6 total files, files must contain
          **`_ft`**, **`_bk`**, **`_up`**, **`_dn`**,
          **`_rt`**, or **`_lf`** in their name.

          **Enable Bloom**

          Toggles bloom effects for the scene.

          **Filter**

          Adds filter effects to the scene. Available filters are

          `Greyscale`
          `Sepia`
          `Invert`
          `Contrast`
          `Brightness`
          `Hue`
          `Saturation`
          `Custom`

          Custom will create an input box under filter intensity. You can create
          your custom filter with CSS Filters and the syntax will be the same. See
          the [MDN Page](https://developer.mozilla.org/en-US/docs/WebCSSfilter) on
          CSS Filter for more information.
        </Tab>
        <Tab>
          **Particle Preset**

          Set the weather or effect for the scene, you can have up of 2 effects at the same
          time and one of them can be custom (Particle Preset 2 has the custom option).
        </Tab>
        <Tab>
          **Render Walls**

          Whether or not to display the 2d Canvas Walls in the 3D Mode.

          **Render Doors**

          Whether or not to display walls marked as doors.

          **Render Tiles**

          Whether or not to display tiles.

          **Render Scene Lights**

          Whether or not to display lights.

          **Mirror Levels Tile Visibility**

          If enabled 3D Canvas will mirror the Levels tiles visibility. This
          option is required if you want to make a multilevel 3D Map where floors
          above tokens disappear automatically for easier navigation.

          **Use 3D Geometry for sight calculations**

          Instead of mirroring the 2D Canvas token visibility, use the 3D Geometry
          of the scene. This means that if you simply load a 3D Model into the
          scene, it's geometry will be used to block token visibility, meaning you
          do not need to wall the scene and it will just work. This setting also applies to
          [Levels - Volumetric Templates](../levels/levelsvolumetrictemplates)
          Auto Targeting and 3D Cover Calculations.
        </Tab>
      </Tabs>

  </Tab>
</Tabs>

## Entities in 3D

While most entities will work the same in 3D as they do in 2D, there are some differences that you should be aware of. Especially when dealing with Tiles since they are the most common entity in 3D and can do a lot more than what you are used to in 2D.
For example in 3D we use tiles to create walls, floors, ceilings, and even roofs. Tiles are capable of blocking sight and movement and to be used as doors.
To see details about how to use the various 3D Entities, visit their respective pages. It's suggested to at least read the [Tiles](levels-3d-preview/info/entities/tiles) page since it's the entity you will be dealing with the most.

<Cards
    cards={[
        { title: "Tiles", href: "levels-3d-preview/info/entities/tiles" },
        { title: "Lights", href: "levels-3d-preview/info/entities/lights" },
        { title: "Templates", href: "levels-3d-preview/info/entities/templates" },
        { title: "Walls", href: "levels-3d-preview/info/entities/walls" },
        { title: "Drawings", href: "levels-3d-preview/info/entities/drawings" },
        { title: "Notes", href: "levels-3d-preview/info/entities/notes" },
    ]}
/>

## Fog of War

Fog of war works slightly differently in 3D, with the default settings the map will be completely revealed. If you want to know more about how Fog of War works in 3D and it's performance implications and limitations, check the [Fog of War & Vision](levels-3d-preview/fow) page.

## Special Effects

### Shaders

Shaders allow you to create many procedural effects on Tiles, Tokens, Templates and more. From simple color changes to complex effects like water, fire, wind, and ice.
To learn more about how to use Shaders, check the [Shaders](levels-3d-preview/info/shaders) page.

### Token Animations
<Image src='https://user-images.githubusercontent.com/1346839/168579135-4b6137f7-05a5-4371-9d24-3e0454cf42ab.png' alt='3D Tile Menu'   className={styles.wikiImage} />

#### Start an animation through the UI

You can access the Token Animations by Right clicking your token to open the Token Hud, you will see a Magic Wand icon on the right, click it to open the available animations. Clicking on an animation will play the animation for all clients. Some animations might not work if the token is Prone or Defeated.


#### Start animation with macros

To play an animation with a macro, first create a script macro, then use the following commands to play your desired animation.

```js
game.Levels3DPreview.playTokenAnimation(tokens, animationId, options);
```

| Parameter   | Description                                                                                                                                                       |
| ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| tokens      | This parameter can be a single token object, an array of token objects, a single token ID or an array of token IDs, the animation will play on all these targets. |
| animationId | The identifier for the animation, you can find all the animation IDs by typing `game.Levels3DPreview.CONFIG.tokenAnimations` in the console and hitting Enter.    |
| Options     | This is optional, an object containing additional parameters                                                                                                      |

```js
{
  repeats: 1, // How many times you want the animation to play
  resetTime: milliseconds, // Force the time that the animation takes to reset to the original position once it ends
}
```

#### Example Macro

This macro will play the Twirl animation, 3 Times, on all Selected Tokens

```js
game.Levels3DPreview.playTokenAnimation(canvas.tokens.controlled, "twirl", {
    repeats: 3,
});
```

### Particle System

3D Canvas includes a particle system meant for spell effects, the system is highly customizable but also very simple to use for basic projectiles.

#### No Scripting usage

<Image src='https://user-images.githubusercontent.com/1346839/168579424-7dd2436b-7503-46f4-8ea5-ff9a0925d610.png' alt='Automated Animations UI' className={styles.wikiImage} />
If you don't want to dig into the scripting aspect, the module [Automated Animations](https://foundryvtt.com/packages/autoanimations) provides a graphical interface to setup 3D Canvas Particle Effects.

#### Advanced usage

If you wish to use the particle system to it's full potential, you can create particle effects by using macros.
You can find the full documentation in the [Particles API Wiki Page](./levels-3d-preview/info/particles)

## Supported File Formats

<Tabs items={['3D File Formats', '2D File Formats', 'PBR Materials']}>
  <Tab>

    <Callout type="warning" emoji="⚠️">
      Note that **FBX** support is getting phased out, since it's an inferior and outdated format compared to the new **GLTF** standard. It's suggested to use **GLB\GLTF** if possible.
    </Callout>

    You can use **`GLB`**, **`GLTF`** and **`FBX`** files, other formats can be easily converted. Blender is suggested to perform
    this operation.

  </Tab>
  <Tab>
    3D Canvas supports all the file formats supported by Foundry, including
    animated **`webm`** files. Due to how 3D Canvas handles transparency, semi-transparent images might be completely cut of by the processing.

    While the weather system supports animated file formats, the particle
    effect system does not.

  </Tab>
  <Tab>
    **Material Browser**
    <Image
      src="/images/3D-Canvas/Material_Browser_Icon.png"
      alt="Material Browser Button"
      className={styles.wikiImage}
    />

    If you installed the 3D Canvas Mapmaking Pack, you will have access to more than 1000 Materials and the Material Browser.
    <Image
      src="/images/3D-Canvas/Material_Browser.png"
      alt="Material Browser Interface"
      className={styles.wikiImage}
    />

    To access the material browser simply click the circular icon left of the [Filepicker+](Filepicker) icon (<FontAwesomeIcon icon={faFileImport} />).


    You will then be welcomed by the material browser. To apply the material simply click on the desired one. Keep in mind that if you intend to use these materials on tokens, you need to select PBR in the material
    option.

    **Manually Loading a PBR Material**

    Tokens, walls, tiles and the scene table support PBR Materials. To load a pbr material you need a specific file naming stuctures. The files must be named as follows and be all in the same folder.

    ```postcss
    Wood077_1K_AmbientOcclusion.jpg
    Wood077_1K_Color.jpg
    Wood077_1K_Emissive.jpg
    Wood077_1K_Metalness.jpg
    Wood077_1K_NormalGL.jpg
    Wood077_1K_Roughness.jpg
    ```

    As you can see all the files share a root name then keywords to differentiate the different textures.

    You need to select one of the files in the image field to use them in 3D Canvas.

    <Callout type="warning" emoji="⚠️">
      For the full material to be loaded you can pick any of the images but _not_
      color, otherwise only the color texture will be used.
    </Callout>

    For walls you can load the image in it's texture field, same for tokens, tiles and the scene table. Tokens also require that the material is set to PBR.

    Displacement maps are not supported due to performance and optimization.

  </Tab>
</Tabs>

## Assets and Resources

<Tabs items={['Content Creators', 'Heroforge', '3D Models', 'HDRIs', 'Model Editors']}>
  <Tab>
    If you wish to purchase premade content for 3D Canvas, some content
    creators have it available on their Patreons.

    - [Baileywiki](https://www.patreon.com/baileywiki) has a vast collection of 3D Prefabs, Heightmaps, and Maps with heavy use of built in tools from the Mapmaking Pack.
    - [Swift Cartography](https://www.patreon.com/Swift) has 3D Models of complete maps and Props.

  </Tab>
  <Tab>
    By using the [3D Portraits](../levels-3d-preview/three-actor-portrait) module, you can
    import your purchased 3D minis from [Hero Forge](https://www.heroforge.com).

    Hero Forge also offers a $15 a month subscription service that
    lets you use all the pro customization and includes 5 minis purchases
    per month.

  </Tab>
  <Tab>
    - [Quaternius](https://quaternius.com/)
    - [Sketchfab](https://sketchfab.com/) has tons of free 3D assets that you can download already in the correct format
    - [Shapeways](https://www.shapeways.com/) Account Required
    - [How to convert STLs](https://youtu.be/2UwQ5v1uQy0d)
  </Tab>
  <Tab>
    - [Polyhaven](https://polyhaven.com/hdris)
    - [iHDRI](https://www.ihdri.com/hdri-skies-outdoor)
    - [HDRMaps](https://hdrmaps.com)
    - [Location Textures](https://locationtextures.com/panoramas)
  </Tab>
  <Tab>
    - [Terrascape](https://terrascape.theripper93.com/) - Easy terrain creation
    - [FBX to GTF converter](https://products.aspose.app/3d/conversion/fbx-to-gltf)
    - [Three.js Model Editor](https://threejs.org/editor)
  </Tab>
</Tabs>

## Tutorials

<Tabs items={['Official', 'Spherical HDRI to Cube Map', 'Townscaper']}>
  <Tab>
    - [Getting Started](./levels-3d-preview/3D-Canvas-Getting-Started): a page for new users to quickly get started with 3D Canvas.

    - A [playlist](https://youtube.com/playlist?list=PLbNUuLLqMgaCpFyHQnTuOGLnljT22XWVp) of 3D Canvas tutorials.
      Keep in mind that some may be outdated, but the general concepts will likely apply for current or future versions of 3D Canvas.

  </Tab>
  <Tab>
    _A guide by `@simulacrum`

    - Go to [HDRI to Cubemap by Matheowis](https://matheowis.github.io/HDRI-to-CubeMap/)
      - Upload you image. It doesn't take EXR so you'll have to convert those to HDRI, PNG or JPEG.
    - Once it's uploaded it will appear in the 3D view. You can now see how the Cube map will look.
    - It's possible to move the image by dragging on it but**don't**or it won't line up with your HDRI.
    - Adjust the Exposure. Make it darker.
    - The HDRI lights the cube map so you will have to compensate for this, either now or in your image editor later.
      - Choose Export and choose the bottom option export as PNG choosing the size you want for the individual sides
    - 2k is normally enough but you can try 4k if your machine can handle it or 1k if not
      - Click Process
      - Once it's finished, download them
    - The names of the files don't match up with 3D Canvas so use a file renamer to swap them.
    - Remember that your prefix must match on every file (i.e. **name_bk** , **name_ft** , etc.)
    - All the images will need to be flipped horizontally.
    - You will also have to rotate the **\_up** and **\_dn** images clockwise 90 degrees.
    - Altering the images in an editor like Photoshop or Gimp is recommended.
    - Save all of the files.
    - You can get the file size down by changing them to JPEG
    - Don't use much, if any, compression as it shows.
      webp looks very compressed so I don't use it.
      That's it. You now have an 8bit cube map that matches you 32 bit HDRI that will be a much smaller file size that the equivalent HDRI. Now you can use a 1k HDRI to give you the lighting and reflections and use the 8bit Cube Map as the background image.

</Tab>
  <Tab>
    - [Importing Maps from Townscaper](./levels-3d-preview/townscaper) by 'Chryron#3457'
  </Tab>
</Tabs>

## Hardware Requirements

Although providing precise hardware requirements for the software is not feasible due to its performance reliance on the specific content and features employed within a World, some recommendations and fundamental prerequisites for minimal usage can be provided.
Most of this requirements are based on the [Foundry VTT](https://foundryvtt.com/article/requirements/) requirements.

### Minimum Specifications

<Callout type="warning" emoji="⚠️">
  Please note that the Minimum Specifications will only be able to run simple maps with some visual effects disabled.
</Callout>

- Relatively modern computer running Windows 10 or 11, macOS Big Sur (or newer), or Linux operating systems (Ubuntu 22+, Debian 11+, Redhat 9+, Arch) with support for 64-bit architecture.
- An integrated GPU to enable hardware acceleration.
- 8GB of RAM
- A monitor no smaller than 1366x768. At this minimum resolution many aspects of the UI will feel cramped.
- A mouse. The software is designed for mouse and keyboard.
- A modern web browser like Chrome, Firefox, Opera, or Edge with hardware acceleration enabled. (Safari is not a supported browser at this time).

### Recommended Specifications
- Relatively modern computer running Windows 10 or 11, macOS Big Sur (or newer), or Linux operating systems with support for 64-bit architecture.
- A dedicated GPU which supports WebGL 2.0.
- 16GB of RAM
- A monitor with 1920x1080 or higher resolution.
- A mouse. The software is designed for mouse and keyboard.
- Chrome or a Chromium-based browser provides an experience closest to the FVTT desktop application.

## Special Mentions

-   **dev7355608** for tons of help and suggestions on many parts of the 3D Canvas development
    -   <FontAwesomeIcon icon={faDiscord} /> `@dev7355608`
-   **Otigon** for the wonderful Automated Animations integration
    -   <FontAwesomeIcon icon={faPatreon} /> [Patreon](https://www.patreon.com/otigon)
    -   <FontAwesomeIcon icon={faDiscord} /> `@Otigon#2010`
-   **arcanist** for testing and tips
    -   <FontAwesomeIcon icon={faPatreon} /> [Patreon](https://www.patreon.com/arcanistzed)
    -   <FontAwesomeIcon icon={faDiscord} /> `@arcanist#4317`
